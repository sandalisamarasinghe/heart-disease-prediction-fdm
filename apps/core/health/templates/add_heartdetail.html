{% extends 'index.html' %}
{% load static %}

{% block title %}Add Heart Details - Heart Disease Prediction{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <!-- Hero Section -->
            <div class="hero-section text-center mb-4">
                <h1 class="hero-title">
                    <i class="fas fa-heartbeat text-danger me-3"></i>
                    Heart Disease Prediction
                </h1>
                <p class="hero-subtitle">
                    Enter your heart health parameters to get an AI-powered prediction
                </p>
            </div>

            <!-- Main Form Card -->
            <div class="card-modern">
                <div class="card-body">
                    <form method="post" class="form-modern">
                        {% csrf_token %}
                        
                        <!-- Personal Information Section -->
                        <div class="form-section mb-4">
                            <h3 class="section-title">
                                <i class="fas fa-user text-primary me-2"></i>
                                Personal Information
                            </h3>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="age" class="form-label">
                                        <i class="fas fa-birthday-cake me-2"></i>Age
                                    </label>
                                    <input type="number" class="form-control" id="age" name="age" 
                                           min="18" max="100" required 
                                           placeholder="Enter your age (18-100)">
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        The age of the patient
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="sex" class="form-label">
                                        <i class="fas fa-venus-mars me-2"></i>Gender
                                    </label>
                                    <select class="form-select" id="sex" name="sex" required>
                                        <option value="">Select gender</option>
                                        <option value="0">Female</option>
                                        <option value="1">Male</option>
                                    </select>
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Gender of the patient (0: female, 1: male)
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Cardiovascular Symptoms Section -->
                        <div class="form-section mb-4">
                            <h3 class="section-title">
                                <i class="fas fa-heart text-danger me-2"></i>
                                Cardiovascular Symptoms
                            </h3>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="cp" class="form-label">
                                        <i class="fas fa-stethoscope me-2"></i>Chest Pain Type
                                    </label>
                                    <select class="form-select" id="cp" name="cp" required>
                                        <option value="">Select chest pain type</option>
                                        <option value="0">Typical angina</option>
                                        <option value="1">Atypical angina</option>
                                        <option value="2">Non-anginal pain</option>
                                        <option value="3">Asymptomatic</option>
                                    </select>
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Type of chest pain
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="exang" class="form-label">
                                        <i class="fas fa-running me-2"></i>Exercise Angina
                                    </label>
                                    <select class="form-select" id="exang" name="exang" required>
                                        <option value="">Select option</option>
                                        <option value="0">No</option>
                                        <option value="1">Yes</option>
                                    </select>
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Exercise induced angina
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Laboratory Values Section -->
                        <div class="form-section mb-4">
                            <h3 class="section-title">
                                <i class="fas fa-flask text-warning me-2"></i>
                                Laboratory Values
                            </h3>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="trestbps" class="form-label">
                                        <i class="fas fa-tachometer-alt me-2"></i>Resting Blood Pressure
                                    </label>
                                    <input type="number" class="form-control" id="trestbps" name="trestbps" 
                                           min="90" max="200" required 
                                           placeholder="mmHg (90-200)">
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Resting blood pressure in mmHg
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="chol" class="form-label">
                                        <i class="fas fa-tint me-2"></i>Serum Cholesterol
                                    </label>
                                    <input type="number" class="form-control" id="chol" name="chol" 
                                           min="100" max="600" required 
                                           placeholder="mg/dl (100-600)">
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Serum cholesterol in mg/dl
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="fbs" class="form-label">
                                        <i class="fas fa-syringe me-2"></i>Fasting Blood Sugar
                                    </label>
                                    <select class="form-select" id="fbs" name="fbs" required>
                                        <option value="">Select option</option>
                                        <option value="0">â‰¤ 120 mg/dl</option>
                                        <option value="1">> 120 mg/dl</option>
                                    </select>
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Fasting blood sugar > 120 mg/dl
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="thalach" class="form-label">
                                        <i class="fas fa-heartbeat me-2"></i>Maximum Heart Rate
                                    </label>
                                    <input type="number" class="form-control" id="thalach" name="thalach" 
                                           min="60" max="220" required 
                                           placeholder="bpm (60-220)">
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Maximum heart rate achieved during exercise
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Medical Test Results Section -->
                        <div class="form-section mb-4">
                            <h3 class="section-title">
                                <i class="fas fa-file-medical text-info me-2"></i>
                                Medical Test Results
                            </h3>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="restecg" class="form-label">
                                        <i class="fas fa-wave-square me-2"></i>Resting ECG Results
                                    </label>
                                    <select class="form-select" id="restecg" name="restecg" required>
                                        <option value="">Select ECG result</option>
                                        <option value="0">Normal</option>
                                        <option value="1">ST-T wave abnormality</option>
                                        <option value="2">Left ventricular hypertrophy</option>
                                    </select>
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Resting electrocardiographic results
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="oldpeak" class="form-label">
                                        <i class="fas fa-chart-line me-2"></i>ST Depression
                                    </label>
                                    <input type="number" class="form-control" id="oldpeak" name="oldpeak" 
                                           min="0" max="10" step="0.1" required 
                                           placeholder="0.0 - 10.0">
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        ST depression induced by exercise relative to rest
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Additional Medical Parameters Section -->
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <label for="slope" class="form-label">
                                        <i class="fas fa-chart-area me-2"></i>ST Slope
                                    </label>
                                    <select class="form-select" id="slope" name="slope" required>
                                        <option value="">Select ST slope</option>
                                        <option value="0">Downsloping</option>
                                        <option value="1">Flat</option>
                                        <option value="2">Upsloping</option>
                                    </select>
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Slope of peak exercise ST segment
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="ca" class="form-label">
                                        <i class="fas fa-vessel me-2"></i>Major Vessels
                                    </label>
                                    <select class="form-select" id="ca" name="ca" required>
                                        <option value="">Select number</option>
                                        <option value="0">0 vessels</option>
                                        <option value="1">1 vessel</option>
                                        <option value="2">2 vessels</option>
                                        <option value="3">3 vessels</option>
                                        <option value="4">4 vessels</option>
                                    </select>
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Number of major vessels colored by fluoroscopy
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="thal" class="form-label">
                                        <i class="fas fa-dna me-2"></i>Thalassemia
                                    </label>
                                    <select class="form-select" id="thal" name="thal" required>
                                        <option value="">Select type</option>
                                        <option value="0">Normal</option>
                                        <option value="1">Fixed defect</option>
                                        <option value="2">Reversible defect</option>
                                        <option value="3">Other</option>
                                    </select>
                                    <div class="form-text">
                                        <i class="fas fa-info-circle me-1"></i>
                                        Thalassemia type
                                    </div>
                                </div>
                            </div>

                        </div>

                        <!-- Form Actions -->
                        <div class="form-actions text-center">
                            <button type="submit" class="btn-modern btn-primary me-3">
                                <i class="fas fa-brain me-2"></i>Get AI Prediction
                            </button>
                            <a href="{% url 'home' %}" class="btn-modern btn-secondary">
                                <i class="fas fa-arrow-left me-2"></i>Back to Home
                            </a>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Information Card -->
            <div class="card-modern mt-4">
                <div class="card-body">
                    <h5 class="card-title">
                        <i class="fas fa-info-circle text-info me-2"></i>
                        About This Prediction
                    </h5>
                    <p class="card-text">
                        This AI-powered system analyzes your heart health parameters using advanced machine learning algorithms 
                        to provide accurate predictions about heart disease risk. The system considers 13 key factors including 
                        age, gender, chest pain type, blood pressure, cholesterol, blood sugar, ECG results, heart rate, exercise angina, ST depression, ST slope, major vessels, and thalassemia to generate reliable results.
                    </p>
                    <div class="alert alert-info">
                        <i class="fas fa-shield-alt me-2"></i>
                        <strong>Privacy First:</strong> Your health data is processed securely and is not stored permanently.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}